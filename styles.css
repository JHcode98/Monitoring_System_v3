:root{
  --bg:#f4f6f8;
  --card:#ffffff;
  --accent:#2752a7;
  --muted:#666;
}
/* Dark Mode Variables */
body.dark-mode {
  --bg: #121212;
  --card: #1e1e1e;
  --accent: #64b5f6;
  --muted: #b0bec5;
  color: #e0e0e0;
  background-image: none;
  background-color: var(--bg);
}
body.dark-mode input, body.dark-mode select, body.dark-mode textarea {
  background-color: #2c2c2c;
  color: #fff;
  border-color: #444;
}
body.dark-mode .card, body.dark-mode .modal-content, body.dark-mode .sidebar-toggle, body.dark-mode #admin-filter-menu-box {
  background-color: var(--card);
  color: #e0e0e0;
  border-color: #333;
}
body.dark-mode #docs-table th { background-color: #2d2d2d; color: #fff; border-bottom-color: #444; }
body.dark-mode #docs-table td, body.dark-mode .approved-ul li { border-bottom-color: #333 !important; }
body.dark-mode .approved-ul a:hover { background-color: #333; }
body.dark-mode .sidebar button, body.dark-mode .status-row button, body.dark-mode .wins-row button, body.dark-mode .age-ov-row button, body.dark-mode .open-new-tab {
    background-color: #2c2c2c; color: #e0e0e0; border-color: #444;
}
body.dark-mode .nav-user .user-menu { background-color: #2d2d2d; color: #fff; border: 1px solid #444; }
body.dark-mode .nav-user .user-menu a, body.dark-mode .nav-user .user-menu button { color: #e0e0e0; }
body.dark-mode .nav-user .user-menu a:hover, body.dark-mode .nav-user .user-menu button:hover { background-color: #3d3d3d; }

/* Screen-reader only helper (visually hidden but available to assistive tech) */
.sr-only{position:absolute!important;border:0!important;padding:0!important;width:1px!important;height:1px!important;overflow:hidden!important;clip:rect(1px,1px,1px,1px)!important;white-space:nowrap!important;clip-path:inset(50%)!important}
*{box-sizing:border-box}
html,body{height:100%;
  box-sizing: border-box;
}

body{font-family:Segoe UI,Roboto,Arial, sans-serif;background:url(BG7.jpg); background-repeat: no-repeat ; background-size:cover; background-blend-mode: soft-light ; background-color:transparent; backface-visibility: inherit; }
/* Improved background: subtle gradient overlay for readability */
body{
  background-image: linear-gradient(180deg, rgba(20,30,48,0.18), rgba(255,255,255,0.02)), url(BG7.jpg);
  background-size: cover;
  background-attachment: fixed;
  background-position: center;
}
header{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:linear-gradient(90deg,#fff, #f9fbfd);border-bottom:1px solid #e6e9ee}
header h1{margin:0;font-size:18px}
.hidden{display:none}
.header-right{display:flex;align-items:center;gap:12px}
.clock{font-size:13px;color:var(--muted);padding:6px 10px;border-radius:6px;background:rgba(39,82,167,0.05)}
main{max-width:90%;margin:18px auto;padding:0 16px}
.card{background:var(--card);padding:4px;border-radius:8px;box-shadow:0 1px 3px rgba(6, 212, 212, 0.06);margin-bottom:2px}
#login-section{max-width:400px;margin:0 auto;padding:20px}
#results{overflow-x:auto}
form{display:flex;flex-direction:column;gap:10px}
label{font-size:13px;color:var(--muted)}
input[type=text], input[type=password], select, input{padding:8px;border:1px solid #d6dbe6;border-radius:6px}
button{background: linear-gradient(45deg, var(--accent), #4a90e2); color:#f4f7f8; border:0; padding:8px 12px; border-radius:6px; cursor:pointer; transition: all 0.3s ease; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}
button:hover{background: linear-gradient(45deg, #4a90e2, var(--accent)); transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
button[disabled]{opacity:0.6;cursor:default}
/* Active filter button state */
button.active-filter { background: #2c3e50; color: #fff; box-shadow: inset 0 2px 4px rgba(0,0,0,0.2); transform: translateY(1px); }

.muted{color:var(--muted);font-size:13px}
.controls{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.controls .right{display:flex;gap:8px;align-items:center}
#docs-table{width:100%;border-collapse:collapse ; margin-right: auto; table-layout: auto;}
#docs-table th, #docs-table td{padding:8px;border-bottom:1px solid #eef2f6;text-align:left}
#docs-table th{background:#fbfdff;font-weight:600; position: sticky; top: 0; z-index: 1;}
.form-actions{display:flex;gap:8px}
td.actions button{margin-right:6px;background: linear-gradient(45deg, var(--accent), #4a90e2); color:#f4f7f8;}
td.actions button.delete{background: linear-gradient(45deg, #a63131, #d9534f); color:#f4f7f8;}
td.actions button.delete:hover{background: linear-gradient(45deg, #d9534f, #a63131);}
footer{max-width:980px;margin:6px auto;padding:6px 16px;color:var(--muted)}

.age{display:inline-block;padding:4px 8px;border-radius:6px;color:#fff;font-weight:600}
.age-good{background:#2b8a2b}
.age-warn{background:#d08a1a}
.age-bad{background:#b92b2b}

/* Layout with sidebar */
.layout{display:flex;gap:16px}
.left-sidebar{width:260px;flex:0 0 260px;max-height:calc(100vh - 140px);overflow:auto;padding:12px}
.main-column{flex:1}
#sidebar{width:280px;flex:0 0 280px}

/* Approved lists in left sidebar */
.approved-list{font-size:13px}
.approved-list .muted{padding:6px;color:var(--muted)}
.approved-ul{list-style:none;padding:0;margin:0}
.approved-ul li{margin-bottom:6px;display:flex;align-items:center;justify-content:space-between}
.approved-ul a{color:var(--accent);text-decoration:none;font-weight:600;display:block;padding:6px;border-radius:6px;flex:1}
.approved-ul a:hover{background:#f1f6ff}

/* Sidebar toggle styles */
.layout{display:flex;gap:16px;position:relative}
/* Toggle positioned as a sibling to keep it clickable when sidebar is collapsed */
.left-sidebar{position:relative}
.sidebar-toggle{position:absolute;left:260px;top:14px;width:34px;height:40px;border-radius:6px;border:1px solid #e6eef8;background:#ffffff;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;color:var(--accent);box-shadow:0 1px 3px rgba(0,0,0,0.08);z-index:2200}
/* When sidebar is collapsed, move the toggle to the left edge */
.left-sidebar.collapsed + .sidebar-toggle{left:4px}
.left-sidebar.collapsed{width:0;flex-basis:0;min-width:0;padding-left:0;padding-right:0;overflow:hidden;opacity:0;visibility:hidden;pointer-events:none}
.left-sidebar{transition:width 300ms cubic-bezier(0.4, 0, 0.2, 1), flex-basis 300ms cubic-bezier(0.4, 0, 0.2, 1), padding 300ms ease, opacity 300ms ease}

/* Ensure toggle moves smoothly */
.sidebar-toggle{transition:left 300ms cubic-bezier(0.4, 0, 0.2, 1), transform 300ms ease}

/* Role badge */
.role-badge{display:inline-block;padding:4px 8px;border-radius:6px;background:#eef4ff;color:var(--accent);font-weight:700;font-size:12px}

/* Login center styles */
#login-section.centered{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2200;box-shadow:0 6px 18px rgba(0,0,0,0.12);border-radius:8px}


/* Sidebar search & pagination */
.sidebar-controls input{width:100%}
.sidebar-pagination{display:flex;gap:8px;align-items:center;justify-content:center;margin-top:8px}
.sidebar-pagination button{padding:6px 8px;border-radius:6px;border:1px solid #e6eef8;background:#fff;color:var(--accent);}
.sidebar-pagination .current-page{font-weight:700;color:var(--muted)}

/* Make sidebar control buttons more readable on white background */
.sidebar button{background:#fff;color:var(--accent);border:1px solid #e6eef8;padding:6px 8px;border-radius:6px}
.sidebar button:hover{background:#f6f9ff}

/* Modal styles */
.modal.hidden{display:none}
.modal{position:fixed;inset:0;z-index:2000}
.modal-overlay{position:absolute;inset:0;background:rgba(18,24,36,0.48)}
.modal-content{position:relative;max-width:760px;margin:40px auto;padding:16px;border-radius:8px;z-index:2001}
.modal-close{position:absolute;right:10px;top:10px;border:0;background:#fff;border-radius:6px;padding:6px 8px;cursor:pointer}
.modal-content form{display:flex;flex-direction:column;gap:8px}
.modal-content input, .modal-content select, .modal-content textarea{padding:8px;border:1px solid #d6dbe6;border-radius:6px}
#modal-open-new{background:#fff;color:var(--accent);border:1px solid #e0e6f0}
#modal-cancel{background:#f0f0f0;color:#333;border:1px solid #d6dbe6}



/* Status chart rows */
.status-row{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.status-label{width:90px;font-weight:600}
.status-count{width:40px;text-align:right;color:var(--muted)}
.status-bar{flex:1;background:#eef4fb;border-radius:6px;overflow:hidden;height:14px}
.status-bar-inner{height:100%;background:#2752a7;width:0}
.status-revision .status-bar-inner{background:#6aa84f}
.status-routing .status-bar-inner{background:#f6b042}
.status-approved .status-bar-inner{background:#2b8a2b}
.status-rejected .status-bar-inner{background:#d9534f}

.status-row button{margin-left:6px;background:#fff;color:var(--accent);border:1px solid #e0e6f0;padding:4px 6px;border-radius:6px}
.status-row.selected{outline:2px solid rgba(39,82,167,0.14);background:#f6f9ff}

/* WINS chart styles */
.wins-row{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.wins-label{width:110px;font-weight:600}
.wins-count{width:40px;text-align:right;color:var(--muted)}
.wins-bar{flex:1;background:#f2f7f2;border-radius:6px;overflow:hidden;height:14px}
.wins-bar-inner{height:100%;background:#2b8a2b;width:0}
.wins-approved .wins-bar-inner{background:#2b8a2b}
.wins-pending .wins-bar-inner{background:#f6b042}
.wins-rejected .wins-bar-inner{background:#d9534f}
.wins-row button{margin-left:6px;background:#fff;color:var(--accent);border:1px solid #e0e6f0;padding:4px 6px;border-radius:6px}
.wins-row.selected{outline:2px solid rgba(43,138,43,0.12);background:#f7fff6}

/* Age overview styles */
.age-ov-row{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.age-ov-label{width:110px;font-weight:600}
.age-ov-avg{min-width:56px;padding:4px 8px;border-radius:6px;background:#eef6ff;color:#0b4da0;text-align:center;font-weight:700}
.age-ov-buckets{flex:1;display:flex;gap:6px;align-items:center}
.age-bucket{flex:1;background:#f1f5f9;border-radius:6px;height:12px;overflow:hidden;position:relative}
.age-bucket-inner{height:100%;background:#6aa84f;width:0}
.age-bucket-inner.mid{background:#f6b042}
.age-bucket-inner.bad{background:#d9534f}
.age-ov-count{width:36px;text-align:right;color:var(--muted)}
.age-ov-row button{margin-left:6px;background:#fff;color:var(--accent);border:1px solid #e0e6f0;padding:4px 6px;border-radius:6px}
.age-ov-row.selected{outline:2px solid rgba(39,82,167,0.08);background:#f6faff}

/* Total documents display */
.total-docs-display{font-size:48px;font-weight:700;text-align:center;color:var(--accent);padding:20px 0}

/* Centered overview area (Status / WINS / Admin Status / Age) */
.center-overviews{max-width:980px;margin:18px auto;padding:12px}
.overviews-grid{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;align-items:flex-start}
.overview-card{flex:1 1 240px;max-width:480px;min-width:220px;padding:12px;border-radius:8px;background:var(--card);box-shadow:0 1px 3px rgba(6,212,212,0.04)}
.overview-card h3{margin-top:0;margin-bottom:8px}

/* Full documents view: fit to window */
body.full-view main{min-height:calc(100vh - 220px)}
.full-results{width:100%}

/* Ensure charts expand to card width */
#status-chart, #wins-chart, #age-overview, #admin-status-overview{width:100%}


/* Notes cell: truncate long notes and provide tooltip */
.notes-cell{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.notes-cell .notes-text{display:inline-block;vertical-align:middle;max-width:160px;overflow:hidden;text-overflow:ellipsis}
.note-edit-btn{background:#fff;color:var(--accent);border:1px solid #e0e6f0;padding:2px 6px;border-radius:6px;margin-left:6px}
.note-save-btn{background:#2b6a2b;padding:4px 6px;margin-left:6px}
.note-cancel-btn{background:#a63131;padding:4px 6px;margin-left:6px}

/* Forward/Receive buttons */
.forward{background:#fff;color:var(--accent);border:1px solid #e0e6f0;padding:4px 6px;border-radius:6px;margin-left:6px}
.receive{background:#2b8a2b;color:#fff;padding:4px 6px;border-radius:6px;margin-left:6px;border:0}
.forwarded-label{display:inline-block;padding:4px 8px;border-radius:6px;background:#fff3e8;color:#d08a1a;font-weight:700;margin-left:6px}

/* Admin received status styling (dashboard) */
.admin-status-label{display:inline-block;padding:4px 8px;border-radius:6px;background:#2ecc71;color:#fff;font-weight:700;margin-left:6px}

/* Returned icon styling */
.returned-icon{display:inline-flex;align-items:center;justify-content:center;padding:6px;border-radius:6px;background:#fff;color:#e74c3c;border:1px solid #fdecea}
.returned-icon svg{width:16px;height:16px}

/* Admin inbox */
#admin-inbox{margin-bottom:12px}
#admin-inbox-list .approved-ul li{padding:8px;border-bottom:1px solid #eef2f6}
#admin-inbox-list .approved-ul li .muted{margin-top:4px;display:block}
#admin-inbox-list .receive{background:#2b8a2b;color:#fff;border:0}
#admin-inbox-list .open-new-tab{background:#fff;color:var(--accent);border:1px solid #e0e6f0;padding:4px 6px;border-radius:6px}

/* Icon with label (vertical) used in admin inbox action buttons */
.icon-with-label{display:flex;flex-direction:column;align-items:center;gap:6px}
.icon-with-label .btn-label-under{font-size:11px;color:var(--muted);display:block;text-align:center}
.icon-with-label .icon-btn{padding:6px;border-radius:6px}

/* Avatar / profile picture */
.avatar{width:64px;height:64px;border-radius:50%;background:#cfd8e3;display:inline-flex;align-items:center;justify-content:center;font-weight:700;color:#16325a;font-size:20px;overflow:hidden}
.avatar img{width:100%;height:100%;object-fit:cover;display:block}
.avatar.small{width:32px;height:32px;font-size:12px}

/* Column widths for the documents table (Select, Control, Title, Notes, Owner, Status, WINS, Created, Updated, Age, Actions) */

/* Removed fixed widths for autofit */

/* Ensure truncated cells wrap appropriately where needed */
#docs-table td{overflow:hidden;text-overflow:ellipsis}

/* Highlight selected rows */
.selected-row { background-color: #e6f3ff; }


/* Navbar container (fixed top, consistent across pages) */
.navbar {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  background: #2c3e50;
  color: #ecf0f1;
  padding: 0 20px;
  height: 60px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  position:fixed;
  top:0;
  left:0;
  right:0;
  z-index:9999;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
}

/* Centered project title inside navbar */
.nav-title{position:absolute;left:0;right:0;text-align:center;pointer-events:none;color:#fff;font-weight:700;font-size:16px}

/* ensure page content is not hidden under fixed navbar */
body{padding-top:64px}

/* Navbar groups */
.navbar .nav-left, .navbar .nav-right{display:flex;align-items:center;gap:8px}

/* Links inside the navbar */
.navbar a {
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-size:16px;
  color: #ecf0f1;
  text-decoration: none;
  padding: 0 15px;
  height: 60px; /* Full height for hover effect */
  transition: background 160ms ease, transform 120ms ease;
}

/* Navbar button-style link */
.navbar .nav-btn{
  background: transparent;
  border-radius: 0;
  color: #ecf0f1;
  box-shadow: none;
}
.navbar .nav-btn:hover{ 
  background-color: #34495e;
  color: white;
  transform: none; 
}

/* subtle hover for links */
.navbar a:hover{ background-color: #34495e; color: white; }

/* User dropdown in navbar (right side) */
.nav-user{
  position:relative;
}
.nav-user .user-btn{
  background:transparent;color:#fff;border:0;padding:6px 8px;border-radius:6px;cursor:pointer;display:inline-flex;align-items:center;gap:8px
}
.nav-user .user-btn:hover{background:rgba(255,255,255,0.06)}
.nav-user .user-menu{position:absolute;right:0;top:50px;background:#fff;color:#111;border-radius:4px;box-shadow:0 8px 16px rgba(0,0,0,0.2);min-width:160px;visibility:hidden;z-index:3000;padding:0;transform:translateY(-10px);opacity:0;transition:all 0.3s ease}
.nav-user .user-menu a, .nav-user .user-menu button{display:block;width:100%;text-align:left;padding:8px;border-radius:6px;background:transparent;border:0;color:#16325a}
.nav-user .user-menu a:hover, .nav-user .user-menu button:hover{background:#f1f5fb}
.nav-user.open .user-menu{visibility:visible;transform:translateY(0);opacity:1}

/* Clock styling inside navbar */
.navbar .clock{background:rgba(255,255,255,0.1);padding:6px 10px;border-radius:6px;color:#bdc3c7}

/* Hide navbar when body has no-navbar (used during login view) */
/* Disabled so navbar remains visible across pages */
/* body.no-navbar .navbar{display:none} */

/* Responsive: stack navbar and header-right on small screens */
@media (max-width: 720px) {
  header {flex-direction:column;align-items:stretch;gap:8px;padding:10px 12px}
  header h1 {font-size:16px}
  .navbar {display:flex;flex-wrap:wrap;gap:8px;padding:8px;background-color:#333}
  .navbar a {float:none;display:inline-flex;align-items:center;justify-content:center;padding:10px 12px;border-radius:6px;text-align:center}
  .navbar .nav-btn {flex:1 1 auto;margin-left:0}
  .header-right {display:flex;justify-content:flex-end;gap:8px;padding:0 8px 8px}
  .clock{order:1}
  /* hide left links by default and show hamburger */
  .nav-left{display:none}
  .nav-toggle{display:inline-flex}

  /* Stack controls on small screens */
  .controls{flex-direction:column;align-items:stretch}
  .controls .left, .controls .right{width:100%;display:flex;gap:8px;flex-wrap:wrap}
  .controls .right{justify-content:flex-start}
  .tools{flex-direction:column}
  /* make table responsive */
  .full-results{overflow-x:auto}

  /* Fix sidebar responsiveness: stack layout */
  .layout { flex-direction: column; }
  .left-sidebar { width: 100%; flex: none; max-height: 300px; }
  .sidebar-toggle { display: none; }
  /* Ensure sidebar is visible if it was collapsed on desktop */
  .left-sidebar.collapsed { width: 100%; height: auto; opacity: 1; visibility: visible; pointer-events: auto; }
}

@media (max-width: 420px) {
  .navbar a {font-size:14px;padding:8px 10px}
  .header-right {justify-content:center}
  header h1 {text-align:left}
}

.nav-toggle{display:none !important;border:0;background:transparent;color:#fff;padding:8px;border-radius:6px;cursor:pointer;align-items:center;justify-content:center}
.nav-toggle .bar{display:block;width:18px;height:2px;background:#fff;margin:3px 0;border-radius:2px;transition:all 160ms ease}
.navbar.open .nav-left{display:flex}
.navbar.open .nav-toggle .bar:nth-child(1){transform:translateY(5px) rotate(45deg)}
.navbar.open .nav-toggle .bar:nth-child(2){opacity:0}
.navbar.open .nav-toggle .bar:nth-child(3){transform:translateY(-5px) rotate(-45deg)}

/* Ensure navbar stays hidden on login even on small screens */
/* Disabled so navbar remains visible across pages */
/* body.no-navbar .navbar{display:none !important} */

/* Badge used on admin inbox nav button */
.nav-badge{display:inline-block;margin-left:8px;padding:2px 6px;border-radius:999px;font-size:12px;font-weight:700;color:#fff}
.nav-badge.badge-forwarded{background:#f39c12}
.nav-badge.badge-received{background:#2ecc71}
.nav-badge.badge-returned{background:#e74c3c}

/* The dropdown container */
.dropdown {
  float: left;
  overflow: hidden;
}

/* Dropdown button */
.dropdown .dropbtn {
  font-size: 16px;
  border: none;
  outline: none;
  color: white;
  padding: 14px 16px;
  background-color: inherit;
  font-family: inherit; /* Important for vertical align on mobile phones */
  margin: 0; /* Important for vertical align on mobile phones */
}

/* Hover style for navbar links and dropdowns */
.navbar a:hover, .dropdown:hover .dropbtn {
  background-color: rgba(255,255,255,0.06);
}

/* Icon-style small buttons used for actions */
.icon-btn{background:transparent;border:0;color:inherit;padding:6px;border-radius:6px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
.icon-btn svg{width:16px;height:16px;display:block}
.icon-btn:hover{background:rgba(255,255,255,0.06);transform:translateY(-2px)}

/* Small inline nav inside card (admin inbox) - make icon buttons readable on white background */
.small-nav .icon-btn{ color: var(--accent); background: #fff; border: 1px solid #e6eef8; padding:6px; border-radius:6px; box-shadow: 0 1px 2px rgba(16,40,80,0.04); }
.small-nav .icon-btn svg{ width:16px; height:16px }
.small-nav .icon-btn:hover{ background:#f6f9ff; transform:translateY(-2px); }
.small-nav .nav-badge{ margin-left:6px; font-size:12px; padding:2px 6px }

/* Button label (show on wider screens) */
.icon-btn .btn-label{display:none;margin-left:8px;font-weight:600;color:inherit}
@media (min-width:720px){
  .icon-btn .btn-label{display:inline-block}
}

/* Returned text label (when not using icon) */
.returned-label{display:inline-block;padding:4px 8px;border-radius:6px;background:#fff6f6;color:#e74c3c;font-weight:700;margin-left:6px}

/* small tools area for pages */
.tools{display:flex;gap:8px;align-items:center;margin-bottom:12px}
.tools input{padding:6px 8px;border-radius:6px;border:1px solid #e6eef8}

/* Ensure icon buttons inside navbar stay white */
.navbar .icon-btn{ color: #fff }

/* Icon buttons inside cards (controls / small-nav) should be visible on white background */
.card .icon-btn, .small-nav .icon-btn{ color: var(--accent); background: #fff; border:1px solid #e6eef8 }
.card .icon-btn:hover, .small-nav .icon-btn:hover{ background:#f6f9ff }

/* Dropdown content (hidden by default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

/* Links inside the dropdown */
.dropdown-content a {
  float: none;
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

/* Add a grey background color to dropdown links on hover */
.dropdown-content a:hover {
  background-color: #ddd;
}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {
  display: block;
}
